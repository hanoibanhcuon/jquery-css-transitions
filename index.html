<?xml version="1.0"?>
<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>CSS Transitions Implemented by jQuery Animations</title>
	
    
    <!-- CSS transition rules must be in an external stylesheet because some browsers don't allow the original -->
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    
    <!-- These scripts need to be loaded in the HEAD to avoid flash of unstyled content in Firefox -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.js"></script>
	<script type="text/javascript" src="jquery.color.js"></script>
	<script type="text/javascript" src="jquery.css-transitions.js"></script>
    
    <script type="text/javascript">
        
        
    jQuery(function($){
    
        $('#toggleClassNameRule').click(function(){
            if($('#foo').hasClass('bar')){
                if(!$.browser.msie){
                    $('#toggleTargetRule')[0].disabled = false;
                    $('#toggleTargetRule').removeClass('disabled');
                }
                $('#foo').removeClass('bar');
                $(this).text('Class is removed').removeClass('on');
            }
            else {
                if(!$.browser.msie){
                    $('#toggleTargetRule')[0].disabled = true;
                    $('#toggleTargetRule').addClass('disabled');
                }
                $('#foo').addClass('bar');
                $(this).text('Class is added').addClass('on');
            }
            
            //This is unfortunately required by IE since the transition rule selectors point to decendent of #foo and not #foo itself
            if(jQuery.browser.msie){
                window.setTimeout(function(){
                    $('#foo p').addClass('temp-ie-class').removeClass('temp-ie-class');
                }, 0)
            }
        });
        
        window.location.href = "#"; //Reset
        if($.browser.msie){
            $('#toggleTargetRule').addClass('disabled')[0].disabled = true;
        }
        else {
            $('#toggleTargetRule').click(function(){
                if(window.location.href.indexOf('#foo') != -1 ){
                    window.location.hash = '#';
                    $(this).text(':target is removed').removeClass('on');
                }
                else {
                    window.location.hash = '#foo';
                    $(this).text(':target is added').addClass('on');
                }
            });
        }
        
        $('#addParagraph').click(function(){
            $('#foo').append($('#foo p:first').clone());
            cssTransitions.refreshDOMForMSIE();
        });
    
        
    });
    
    </script>
</head>
<body>
	<h1>CSS Transitions Implemented by jQuery Animations</h1>
    
    <p>The most sophisticated CSS rules are ones in which all of the transition properties are defined in each of the rules. Additionally, only one transition rule can be applied
    at a time; the rules are mutually exclusive. If if a rule with higher precedent overrides another rule, then the other rule will not be applied as long as it exists. No cascading.
    Do not use short hand properties for the transition-property values. transition-property:all is not allowed</p>
    
    <p>In MSIE, clicking this paragraph will have no effect since <code>:active</code> pseudo-classes don't work with behaviors, apparently.</p>
    
    <p>
        <button id="toggleClassNameRule" style="color:red">Class is removed</button> <br />
        <button id="toggleTargetRule" style="color:red">:target is removed</button> (unsupported by MSIE)
    </p>
    
    <div id="foo">
        <p>
            This is a paragraph that is to be transitioned.
            <!--<br>
            Hover over for: padding 5px; bgcolor cyan; text blue; width 80<br>
            Click for padding 30px; bgcolor yellow; text green; width:40-->
        </p>
    </div>
    
    <p><button type="button" id='addParagraph'>Add another paragraph dynamically</button></p>

    
	<hr />
	<address>
		<a href="http://weston.ruter.net/">Weston Ruter</a>, <a href="http://shepherd-interactive.com/">Shepherd Interactive</a>, December 2008
	</address>
</body>
</html>
